{"version":3,"sources":["webpack://Movai/webpack/universalModuleDefinition","webpack://Movai/webpack/bootstrap","webpack://Movai/./index.js","webpack://Movai/./resources/fonts/movai.woff","webpack://Movai/./src/AuthWebSocket/AuthWebSocket.js","webpack://Movai/./src/Authentication/Authentication.js","webpack://Movai/./src/Clipboard/Clipboard.js","webpack://Movai/./src/Database/Database.js","webpack://Movai/./src/Database/Document.js","webpack://Movai/./src/Database/Manager/DataManagerBase.js","webpack://Movai/./src/Database/MasterDB.js","webpack://Movai/./src/Database/Models/BaseModel.js","webpack://Movai/./src/Database/Snapshot.js","webpack://Movai/./src/Database/WSSub.js","webpack://Movai/./src/Database/Workspace.js","webpack://Movai/./src/Rest/Rest.js","webpack://Movai/./src/Rest/RestBase.js","webpack://Movai/./src/Rest/WithAuth.js","webpack://Movai/./src/Style/Style.js","webpack://Movai/./src/UndoManager/UndoManager.js","webpack://Movai/./src/User/User.js","webpack://Movai/./src/Utils/Utils.js","webpack://Movai/external \"@babel/runtime/helpers/esm/asyncToGenerator\"","webpack://Movai/external \"@babel/runtime/helpers/esm/classCallCheck\"","webpack://Movai/external \"@babel/runtime/helpers/esm/createClass\"","webpack://Movai/external \"@babel/runtime/helpers/esm/defineProperty\"","webpack://Movai/external \"@babel/runtime/helpers/esm/slicedToArray\"","webpack://Movai/external \"@babel/runtime/helpers/esm/typeof\"","webpack://Movai/external \"@babel/runtime/regenerator\"","webpack://Movai/external \"jwt-decode\"","webpack://Movai/external \"lodash\"","webpack://Movai/external \"monet\"","webpack://Movai/external \"rxjs\""],"names":["checkLogin","Authentication","getToken","AuthException","AuthWebSocket","url","wsUrl","onOpen","onClose","onError","onMessage","connectionHandler","evt","console","log","connected","socket","timerId","clearTimeout","setTimeout","createSocket","value","_onOpen","_onClose","_onError","_onMessage","_connectionHandler","sock","then","res","URL","params","URLSearchParams","search","slice","set","WebSocket","toString","onopen","onerror","onclose","onmessage","e","name","data","send","self","sub_interval","undefined","setInterval","readyState","clearInterval","close","message","token","window","localStorage","getItem","getRefreshToken","refreshToken","getTokenData","jwtDecode","tokenData","auth_token","refresh_token","error","access_token","login","username","password","remember","removeItem","sessionStorage","headers","fetch","method","body","JSON","stringify","response","status","json","setItem","logout","tokenRemember","sessionFlag","Date","getTime","refreshTokenData","Clipboard","instance","_data","copyKey","Math","random","key","inst","write","read","Database","websocket","WS_API","dispatch","code","connect","timeout","parse","err","patterns","is_pattern","one_shot","includes","event","map","p","callbacks","pattern","Promise","resolve","reject","event_name","callback","evt_callbacks","push","_pattern","evt_callback","_send","_callbacks","i","length","scope","split","REST_API","values","Authorization","packageName","formData","FormData","append","process","alert","statusText","cloudFunction","func","args","newValue","obj","componentName","key_workspace","Workspace","host","location","hostname","port","isHttps","protocol","Document","type","workspace","version","uri","apiVersion","_parseArgs","subscriber","database","MasterDB","_workspace","_type","_name","_version","paths","v1","v2","path","Rest","get","put","resubscribe","readOnly","unsubscribe","BaseModel","Scope","Name","onUpdate","destroy","trgWorkspace","Snapshot","create","srcWorkspace","getAll","_init","Boolean","bodies","Label","post","DataManagerBase","lodash","isEmpty","models","Error","Object","keys","forEach","prop","charAt","toLowerCase","defineProperty","_subscribeModelsReady","onReady","_setModelReady","model","isReady","_subject_state","complete","subscribeTo","db_state","db_states","ready","subscribe","freeze","loading","BehaviorSubject","WSSub","manager","_subscribe","db","_onDataChange","_onDataLoad","default_pattern","_patterns","Array","isArray","id","_cache","add","new_obj","omit","up_path","removeEmpty","join","entry","_get_or_create","Utils","flattenObject","remove","merge","_subject","next","nr_patterns","Subject","Map","_db_state","_validatePatterns","_initialize","target","source","src","restore","CLOSED","onAuthError","RECONN_TIMEOUT","getOrCreate","pushCallback","sub_callbacks","command","_sufix","retry","RETRIES","getState","OPEN","RESEND_TIMEOUT","is_command","_map","cb","reSubscribe","NORMAL_CLOSE_EVT","reConnect","msg","commands","LIST","EXECUTE","rcv_patterns","_prefix","SUBSCRIBE","fmtMessage","initSocket","addSubscriberCallback","addEventCallback","from","UNSUBSCRIBE","remote_callback","withAuth","RestBase","getHeaders","encodeURI","output","entries","encodeURIComponent","getUrl","_request","skipBody","payload","ok","upload","cbName","validScope","validKey","validateVar","validators","fn","getVar","setVar","props","handler","shouldCheckLogin","__checkLogin","Reflect","has","Proxy","assign","Style","icons","UndoManager","size","undoStack","Queue","redoStack","undoAbleAction","doAction","pop","undoAction","UndoAbleActionBuilder","_doAction","_undoAction","lambda","some","x","queue","el","shift","User","baseUrl","currTime","timestamp","TIMEOUT","getData","Superuser","origin","ofNull","Maybe","fromNull","getter","dot","f","g","maybeGet","range","init","end","orSome","ans","j","randomInt","a","b","floor","normalizeStr","str","normalize","replace","groupBy","array","groupFunction","capitalize","s","toUpperCase","mod","n","prefix","reduce","acc","k","pre"],"mappings":"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","file":"dist/index.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Movai\"] = factory();\n\telse\n\t\troot[\"Movai\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./index.js\");\n","import Authentication from \"./src/Authentication/Authentication\";\nimport Utils from \"./src/Utils/Utils\";\nimport Database from \"./src/Database/Database\";\nimport MasterDB from \"./src/Database/MasterDB\";\nimport AuthWebSocket from \"./src/AuthWebSocket/AuthWebSocket\";\nimport Style from \"./src/Style/Style\";\nimport UndoManager from \"./src/UndoManager/UndoManager\";\nimport Clipboard from \"./src/Clipboard/Clipboard\";\nimport WSSub from \"./src/Database/WSSub\";\nimport User from \"./src/User/User\";\nimport BaseModel from \"./src/Database/Models/BaseModel\";\nimport DataManagerBase from \"./src/Database/Manager/DataManagerBase\";\nimport Document from \"./src/Database/Document\";\nimport Workspace from \"./src/Database/Workspace\";\nimport Snapshot from \"./src/Database/Snapshot\";\nimport Rest from \"./src/Rest/Rest\";\n\nexport {\n  Authentication,\n  Utils,\n  Database,\n  MasterDB,\n  AuthWebSocket,\n  Style,\n  UndoManager,\n  Clipboard,\n  WSSub,\n  User,\n  BaseModel,\n  DataManagerBase,\n  Document,\n  Workspace,\n  Snapshot,\n  Rest\n};\n","export default \"data:font/woff;base64,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\"","import Authentication from \"../Authentication/Authentication\";\n\nconst { checkLogin, getToken, AuthException } = Authentication;\n\nexport default class AuthWebSocket {\n  constructor({\n    url = this.wsUrl,\n    onOpen = null,\n    onClose = null,\n    onError = null,\n    onMessage = null,\n    connectionHandler = null\n  }) {\n    this.onOpen = onOpen === null ? this._onOpen : onOpen;\n    this.onClose = onClose === null ? this._onClose : onClose;\n    this.onError = onError === null ? this._onError : onError;\n    this.onMessage = onMessage === null ? this._onMessage : onMessage;\n    this.connectionHandler =\n      connectionHandler === null ? this._connectionHandler : connectionHandler;\n\n    this.wsUrl = url;\n    this.socket = false;\n    this.timerId = false;\n    this.connected = false;\n  }\n\n  _onOpen = evt => {\n    console.log(\"Socket Open: \", evt);\n  };\n\n  _onClose = evt => {\n    console.log(\"Socket Close: \", evt);\n\n    this.connected = false;\n\n    // Deal with reconnecting the socket\n    this.socket = null;\n    if (this.timerId) {\n      clearTimeout(this.timerId);\n    }\n    this.timerId = setTimeout(() => {\n      this.createSocket();\n    }, 5000);\n  };\n\n  _onError = evt => {\n    this.connected = false;\n    console.log(\"Socket Error: \", evt);\n  };\n\n  _onMessage = evt => {\n    console.log(\"Socket Message: \", evt);\n  };\n\n  _connectionHandler = value => {\n    console.log(\"Invalid Token, no handler specified! \", value);\n  };\n\n  createSocket(url = false) {\n    let sock = false;\n\n    checkLogin()\n      .then(res => {\n        if (!res) {\n          throw new AuthException(\"login error\");\n        }\n\n        url = url !== false ? url : this.wsUrl;\n        //const wsUrl = `${url}?token=${getToken()}`;\n\n        let wsUrl = new URL(url);\n        let params = new URLSearchParams(wsUrl.search.slice(1));\n        params.set(\"token\", getToken());\n        wsUrl.search = params;\n\n        sock = new WebSocket(wsUrl.toString());\n        sock.onopen = this.onOpen;\n        sock.onerror = this.onError;\n        sock.onclose = this.onClose;\n        sock.onmessage = this.onMessage;\n\n        this.socket = sock;\n      })\n      .catch(e => {\n        if (e.name === \"AuthException\") {\n          this.connectionHandler(false);\n        }\n      });\n  }\n\n  send(data) {\n    checkLogin()\n      .then(res => {\n        if (!res) {\n          throw new AuthException(\"login error\");\n        }\n\n        this.socket.send(data);\n      })\n      .catch(e => {\n        switch (e.name) {\n          case \"AuthException\":\n            this.connectionHandler(false);\n            break;\n\n          case \"InvalidStateError\":\n            // In case of the socket is not-ready, re-try sending the message until success\n            var self = this;\n            let sub_interval = undefined;\n            sub_interval = setInterval(\n              () => {\n                if (self.socket.readyState === 1) {\n                  clearInterval(sub_interval);\n                  self.socket.send(data);\n                }\n              },\n              400,\n              sub_interval\n            );\n            break;\n        }\n      });\n  }\n\n  close() {\n    if (this.socket) {\n      this.socket.close();\n      clearTimeout(this.timerId);\n      this.connected = false;\n    }\n  }\n}\n","import jwtDecode from \"jwt-decode\";\n\nconst Authentication = {};\n\nAuthentication.AuthException = function (message) {\n  this.message = message;\n  this.name = \"AuthException\";\n};\n\nAuthentication.getToken = () => {\n  const token = window.localStorage.getItem(\"movai.token\");\n  return token ? token : false;\n};\n\nAuthentication.getRefreshToken = () => {\n  const refreshToken = window.localStorage.getItem(\"movai.refreshToken\");\n  return refreshToken ? refreshToken : false;\n};\n\nAuthentication.getTokenData = () => {\n  try {\n    const token = Authentication.getToken();\n    const message = jwtDecode(token).message;\n\n    const tokenData = {\n      message: message,\n      auth_token: false,\n      refresh_token: Authentication.getRefreshToken(),\n      error: false,\n      access_token: token\n    };\n\n    return tokenData;\n  } catch (error) {\n    return {\n      message: {},\n      error: true\n    };\n  }\n};\n\nAuthentication.login = async (username, password, remember) => {\n  // Cleanup...\n  window.localStorage.removeItem(\"movai.token\");\n  window.localStorage.removeItem(\"movai.refreshToken\");\n  window.localStorage.removeItem(\"movai.tokenRemember\");\n  window.sessionStorage.removeItem(\"movai.session\");\n\n  let headers = {};\n  headers[\"Content-Type\"] = \"application/json\";\n\n  const url = `/token-auth/`;\n\n  try {\n    const response = await fetch(url, {\n      method: \"POST\",\n      headers,\n      body: JSON.stringify({\n        username: username,\n        password: password,\n        remember: remember\n      })\n    });\n\n    const { status } = response;\n    let data = await response.json();\n\n    if (status === 200) {\n      window.localStorage.setItem(\"movai.token\", data[\"access_token\"]);\n      window.localStorage.setItem(\"movai.refreshToken\", data[\"refresh_token\"]);\n      window.localStorage.setItem(\n        \"movai.tokenRemember\",\n        remember == \"undefined\" ? false : remember\n      );\n      window.sessionStorage.setItem(\"movai.session\", true);\n    }\n\n    return data;\n  } catch (e) {\n    // ToDo Add exception error message\n    throw e;\n  }\n};\n\nAuthentication.logout = () => {\n  window.localStorage.removeItem(\"movai.token\");\n  window.localStorage.removeItem(\"movai.refreshToken\");\n  window.localStorage.removeItem(\"movai.tokenRemember\");\n  window.sessionStorage.removeItem(\"movai.session\");\n};\n\nAuthentication.checkLogin = async () => {\n  const token = window.localStorage.getItem(\"movai.token\");\n  const refreshToken = window.localStorage.getItem(\"movai.refreshToken\");\n  const tokenRemember = window.localStorage.getItem(\"movai.tokenRemember\");\n  const sessionFlag = window.sessionStorage.getItem(\"movai.session\");\n\n  if (token === null || refreshToken === null) {\n    return false;\n  }\n\n  let tokenData = null;\n  try {\n    tokenData = jwtDecode(token);\n  } catch (e) {\n    return false;\n  }\n\n  // Check if token expired\n  if (tokenData[\"exp\"] > new Date().getTime() / 1000) {\n    return true;\n  }\n\n  // Check SessionStorage flag\n  if (tokenRemember == \"false\" && sessionFlag === null) {\n    Authentication.logout();\n    return false;\n  }\n\n  // Token has expired... Get new Token\n  if (refreshToken) {\n    // Try to get new token\n    try {\n      // Refresh Token\n      const refreshTokenData = jwtDecode(refreshToken);\n      if (refreshTokenData[\"exp\"] < new Date().getTime() / 1000) {\n        throw \"refresh token has expired\";\n      }\n\n      const url = `/token-refresh/`;\n      const headers = { \"Content-Type\": \"application/json\" };\n      const response = await fetch(url, {\n        method: \"POST\",\n        headers,\n        body: JSON.stringify({ token: refreshToken })\n      });\n\n      const { status } = response;\n      let data = await response.json();\n\n      if (status === 200) {\n        window.localStorage.setItem(\"movai.token\", data[\"access_token\"]);\n        window.localStorage.setItem(\n          \"movai.refreshToken\",\n          data[\"refresh_token\"]\n        );\n        return true;\n      }\n    } catch (e) {\n      // Pass\n    }\n  }\n\n  return false;\n};\n\nexport default Authentication;\n","/**\n * Clipboard singleton\n */\nexport default class Clipboard {\n  constructor() {\n    if (Clipboard.instance) return Clipboard.instance;\n    Clipboard.instance = this;\n    this._data = {};\n    this.copyKey = Math.random();\n  }\n\n  /**\n   *  get clipboard data\n   */\n  get data() {\n    return this._data;\n  }\n\n  /**\n   *\n   * @param {string} key base key to clear\n   */\n  static clear(key) {\n    const inst = new Clipboard();\n    if (key) delete inst._data[key];\n  }\n\n  /**\n   *\n   * @param {string} key base key to read\n   */\n  static read(key) {\n    // consider return a maybe\n    const inst = new Clipboard();\n    return key ? inst.data[key] : inst.data;\n  }\n\n  /**\n   *\n   * @param {string} key base key to write\n   * @param {any} value object, primitive, etc, to write\n   */\n  static write(key, value) {\n    return (new Clipboard()._data[key] = value);\n  }\n\n  /**\n   * Copies value\n   * @param {*} value\n   */\n  static copy(value) {\n    Clipboard.write(new Clipboard().copyKey, value);\n  }\n\n  /**\n   * Retrieve copied object\n   */\n  static paste() {\n    // consider making deep copy\n    return Clipboard.read(new Clipboard().copyKey);\n  }\n}\n","import Authentication from \"../Authentication/Authentication\";\nimport AuthWebSocket from \"../AuthWebSocket/AuthWebSocket\";\nconst { getToken, AuthException, checkLogin } = Authentication;\n\nclass Database {\n  constructor() {\n    this.host = `${window.location.hostname}:${window.location.port}`;\n    const isHttps = window.location.protocol === \"https:\";\n    this.WS_API = `${isHttps ? \"wss\" : \"ws\"}://${this.host}/ws/subscriber`;\n    this.REST_API = `${window.location.protocol}//${this.host}/api/v1/`;\n    this.callbacks = {};\n    this.evt_callbacks = {};\n    this.timeout = 3000;\n    this.websocket = undefined;\n    this.connect();\n  }\n\n  connect = () => {\n    this.websocket = new AuthWebSocket({\n      url: this.WS_API,\n      onOpen: this.onOpen,\n      onClose: this.onClose,\n      onError: this.onError,\n      onMessage: this.onMessage,\n      connectionHandler: null\n    });\n    this.websocket.createSocket();\n  };\n\n  onOpen = evt => {\n    this.dispatch(\"onopen\", undefined);\n  };\n\n  onClose = evt => {\n    this.dispatch(\"onclose\", undefined);\n    if (evt.code !== 1000) {\n      window.setTimeout(this.connect(), this.timeout);\n    }\n  };\n\n  onMessage = evt => {\n    let data;\n    try {\n      data = JSON.parse(evt.data);\n    } catch (err) {\n      console.error(err);\n      return;\n    }\n    if (data.error) {\n      console.error(data.error);\n      return;\n    }\n    let patterns = data.patterns;\n    let is_pattern = true;\n    let one_shot = false;\n    if ([\"list\", \"unsubscribe\", \"subscribe\"].includes(data.event)) {\n      patterns = patterns.map(p => {\n        if (data.event === \"unsubscribe\") {\n          delete this.callbacks[JSON.stringify(p)];\n        }\n        return data.event + \"/\" + JSON.stringify(p);\n      });\n      if (data.event === \"list\") {\n        patterns = [\"list\"];\n      }\n\n      is_pattern = false;\n      one_shot = true;\n    }\n\n    patterns.map(pattern => {\n      this.dispatch(pattern, data, is_pattern, one_shot);\n    });\n  };\n\n  /////TEST\n  checkTest = (pattern, data, is_pattern, one_shot) => {\n    return new Promise((resolve, reject) => {\n      this.dispatch(pattern, data, is_pattern, one_shot);\n      if (true) {\n        resolve(\"DONE\");\n      }\n    });\n  };\n\n  onError = evt => {\n    this.dispatch(\"onerror\", undefined);\n  };\n\n  /* Subscribe to websocket events onopen, onclose, onerror*/\n  onEvent = (event_name, callback = undefined) => {\n    this.evt_callbacks[event_name] = this.evt_callbacks[event_name] || [];\n    this.evt_callbacks[event_name].push(callback);\n  };\n\n  close = () => this.websocket.close();\n\n  /* Subscribe to redis pattern */\n  subscribe = (_pattern, callback = undefined, evt_callback = undefined) => {\n    const message = { event: \"subscribe\", pattern: _pattern };\n    let pattern = JSON.stringify(_pattern);\n    this.callbacks[pattern] = this.callbacks[pattern] || [];\n    this.callbacks[pattern].push(callback);\n    if (evt_callback) {\n      this.evt_callbacks[\"subscribe/\" + pattern] =\n        this.evt_callbacks[\"subscribe\" + pattern] || [];\n      this.evt_callbacks[\"subscribe/\" + pattern].push(evt_callback);\n    }\n    this._send(message);\n  };\n\n  unsubscribe = (_pattern, evt_callback = undefined) => {\n    console.log(\"Unsubscribe called \" + JSON.stringify(_pattern));\n    const message = { event: \"unsubscribe\", pattern: _pattern };\n    var pattern = JSON.stringify(_pattern);\n    if (evt_callback) {\n      this.evt_callbacks[\"unsubscribe/\" + pattern] =\n        this.evt_callbacks[\"unsubscribe/\" + pattern] || [];\n      this.evt_callbacks[\"unsubscribe/\" + pattern].push(evt_callback);\n    }\n    this._send(message);\n  };\n\n  /* List all subscribed patterns */\n  list = (evt_callback = undefined) => {\n    const message = { event: \"list\" };\n    this.evt_callbacks[\"list\"] = this.evt_callbacks[\"list\"] || [];\n    this.evt_callbacks[\"list\"].push(evt_callback);\n    this._send(message);\n  };\n\n  _send = message => {\n    this.websocket.send(JSON.stringify(message));\n  };\n\n  /* Trigger callbacks attached to patterns and events*/\n  dispatch = (_pattern, message, is_pattern = false, one_shot = false) => {\n    /*if is_pattern is false then pattern is an event thus trigger evt_callbacks */\n    let _callbacks = undefined;\n    var pattern = _pattern;\n    if (is_pattern === true) {\n      pattern = JSON.stringify(_pattern);\n      _callbacks = this.callbacks[pattern];\n    } else {\n      _callbacks = this.evt_callbacks[pattern];\n    }\n\n    if (_callbacks === undefined) return;\n    for (let i = 0; i < _callbacks.length; i++) {\n      if (typeof _callbacks[i] === \"function\") {\n        _callbacks[i](message);\n      }\n    }\n    if (_callbacks) {\n      if (one_shot === true) {\n        _callbacks = [];\n      } else {\n        //NOTHING\n      }\n    }\n  };\n\n  /**\n   * STOPPED HERE\n   */\n\n  /* Get value from key in Var, scope fleet or global */\n  getVar = (key, callback = undefined, scope = \"global\") => {\n    if (![\"global\", \"fleet\"].includes(scope)) {\n      throw \"Only fleet and global scopes available.\";\n    }\n    if (scope === \"fleet\") {\n      // key format: robot_name@key_name\n      if (key.split(\"@\").length < 2) {\n        throw \"Wrong key format (robot_name@key_name)\";\n      }\n    }\n    const url = this.REST_API + \"database/\" + scope + \"/\" + key + \"/\";\n\n    checkLogin().then(res => {\n      fetch(url)\n        .then(response => response.json())\n\n        .then(data => {\n          if (callback) {\n            callback(data);\n          } else {\n            //NOTHING\n          }\n        });\n    });\n  };\n\n  /* Set value from key in Var, scope fleet or global */\n  setVar = (key, value, callback = undefined, scope = \"global\") => {\n    if (![\"global\", \"fleet\"].includes(scope)) {\n      throw \"Only fleet and global scopes available.\";\n    }\n    if (scope === \"fleet\") {\n      // key format: robot_name@key_name\n      const values = key.split(\"@\");\n      if (key.split(\"@\").length < 2) {\n        throw \"Wrong key format (robot_name@key_name)\";\n      }\n    }\n    const data = { key: key, scope: scope, value: value };\n    const url = this.REST_API + \"database/\";\n\n    checkLogin().then(res => {\n      if (!res) {\n        throw new AuthException(\"login error\");\n      }\n\n      fetch(url, {\n        method: \"POST\",\n        body: JSON.stringify(data),\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${getToken()}`\n        }\n      }).then(res => {\n        if (callback) {\n          callback(res);\n        }\n      });\n    });\n  };\n\n  /**\n   * GET value from url\n   * @param url String\n   * @param callback function\n   * @memberof Database\n   */\n  get = (url, callback = undefined) => {\n    checkLogin().then(res => {\n      if (!res) {\n        throw new AuthException(\"login error\");\n      }\n\n      fetch(url, {\n        method: \"GET\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${getToken()}`\n        }\n      }).then(res => {\n        if (callback) {\n          res\n            .json()\n            .then(data => {\n              callback(data, res);\n            })\n            .catch(e => {\n              callback(undefined, e);\n            });\n        }\n      });\n    });\n  };\n\n  /**\n   * Set value from key in Scope\n   * @param scope String\n   * @param name String - Instance Name\n   * @param key String - Key to override\n   * @param value Obj\n   * @param callback function\n   * @memberof Database\n   */\n  post = (scope, name, key, value, callback = undefined) => {\n    let url = this.REST_API + scope + \"/\" + name + \"/\";\n    if (name === undefined) {\n      url = this.REST_API + scope + \"/\";\n    }\n\n    checkLogin().then(res => {\n      if (!res) {\n        throw new AuthException(\"login error\");\n      }\n\n      fetch(url, {\n        method: \"POST\",\n        body: JSON.stringify({ key: key, data: value }),\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${getToken()}`\n        }\n      }).then(res => {\n        if (callback) {\n          res\n            .json()\n            .then(data => {\n              callback(data, res);\n            })\n            .catch(e => {\n              callback(undefined, e);\n            });\n        }\n      });\n    });\n  };\n\n  upload = (packageName, key, value, callback = undefined) => {\n    const url = `${this.REST_API}upload/${packageName}/`;\n    const formData = new FormData();\n    formData.append(\"name\", key);\n    formData.append(`data`, value);\n    fetch(url, { method: \"POST\", body: formData })\n      .then(res => res.json())\n      .then(callback);\n  };\n\n  /**\n   * Update key\n   * @param scope String\n   * @param name String - Instance Name\n   * @param value Obj\n   * @param callback function\n   * @memberof Database\n   */\n  put = (scope, name, value, callback = undefined) => {\n    let url = this.REST_API + scope + \"/\" + name + \"/\";\n    console.log(\"database put\", url);\n    if (name === undefined) {\n      url = this.REST_API + scope + \"/\";\n    }\n\n    checkLogin().then(res => {\n      if (!res) {\n        throw new AuthException(\"login error\");\n      }\n\n      fetch(url, {\n        method: \"PUT\",\n        body: JSON.stringify(value),\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${getToken()}`\n        }\n      }).then(res => {\n        if (callback) {\n          res\n            .json()\n            .then(data => {\n              callback(data, res);\n            })\n            .catch(e => {\n              callback(undefined, res);\n\n              if (process.env.NODE_ENV === \"development\") {\n                alert(\n                  \"Development Mode \\n\" +\n                    \"Status: \" +\n                    res.status +\n                    \"\\n\" +\n                    \"Error: \" +\n                    res.statusText\n                );\n              }\n            });\n        }\n      });\n    });\n  };\n\n  /**\n   * Set value from key in Scope\n   * @param scope String\n   * @param name String - Instance Name\n   * @param key String - Key to override\n   * @param value Obj\n   * @param callback function\n   * @memberof Database\n   */\n  delete = (scope, name, callback = undefined, data = {}) => {\n    let url = this.REST_API + scope + \"/\" + name + \"/\";\n    if (name === undefined) {\n      url = this.REST_API + scope + \"/\";\n      return;\n    }\n\n    checkLogin().then(res => {\n      if (!res) {\n        throw new AuthException(\"login error\");\n      }\n\n      fetch(url, {\n        method: \"DELETE\",\n        body: JSON.stringify(data),\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${getToken()}`\n        }\n      }).then(res => {\n        if (callback) {\n          res\n            .json()\n            .then(data => {\n              callback(data, res);\n            })\n            .catch(e => {\n              callback(undefined, res);\n\n              if (process.env.NODE_ENV === \"development\") {\n                alert(\n                  \"Development Mode \\n\" +\n                    \"Status: \" +\n                    res.status +\n                    \"\\n\" +\n                    \"Error: \" +\n                    res.statusText\n                );\n              }\n            });\n        }\n      });\n    });\n  };\n\n  /**\n   * Set value from key in Scope\n   * @param cloudFunction String - callback name\n   * @param func String - Function in the callback. default \"\"\n   * @param args Object - Args {key:value}... key is the param in the function\n   * @param callback func - Callback to parse the response\n   * @memberof Database\n   */\n  cloudFunction = (cloudFunction, func = \"\", args, callback = undefined) => {\n    checkLogin().then(res => {\n      if (!res) {\n        throw new AuthException(\"login error\");\n      }\n\n      const url = this.REST_API + \"function/\" + cloudFunction + \"/\";\n      fetch(url, {\n        method: \"POST\",\n        body: JSON.stringify({ func: func, args: args }),\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${getToken()}`\n        }\n      }).then(res => {\n        if (callback) {\n          res.json().then(data => callback(data));\n        }\n      });\n    });\n  };\n\n  /**\n   * Set tabs in a currentUser\n   * @param scope String\n   * @param name String - Instance Name\n   * @param key String - Key to override\n   * @param value Obj\n   * @param callback function\n   * @memberof Database\n   */\n  postTabs = (name, value, callback = undefined) => {\n    let scope = \"User\";\n    let url = this.REST_API + scope + \"/\" + name + \"/\";\n    if (name === undefined) {\n      url = this.REST_API + scope + \"/\";\n      return;\n    }\n    let newValue = value.map(obj => {\n      return { componentName: obj.componentName, name: obj.name };\n    });\n    const key_workspace = {\n      Workspace: \"*\"\n    };\n\n    checkLogin().then(res => {\n      fetch(url, {\n        method: \"POST\",\n        body: JSON.stringify({ key: key_workspace, data: newValue }),\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${getToken()}`\n        }\n      }).then(res => {\n        if (callback) {\n          res\n            .json()\n            .then(data => {\n              callback(data, res);\n            })\n            .catch(e => {\n              callback(undefined, res);\n\n              if (process.env.NODE_ENV === \"development\") {\n                alert(\n                  \"Development Mode \\n\" +\n                    \"Status: \" +\n                    res.status +\n                    \"\\n\" +\n                    \"Error: \" +\n                    res.statusText\n                );\n              }\n            });\n        }\n      });\n    });\n  };\n}\n\nexport default Database;\n","import BaseModel from \"./Models/BaseModel\";\nimport MasterDB from \"./MasterDB\";\nimport Rest from \"../Rest/Rest\";\nimport Snapshot from \"./Snapshot\";\n\nclass Document {\n  constructor({\n    type,\n    name,\n    workspace = \"global\",\n    version,\n    uri,\n    apiVersion = \"v1\"\n  }) {\n    this._init(type, name, workspace, version, uri, apiVersion);\n  }\n\n  /** Initialization */\n  _init = (type, name, workspace, version, uri, apiVersion) => {\n    this._parseArgs(workspace, type, name, version, uri);\n    this.subscriber = undefined;\n    this.database = MasterDB;\n    this.data = {};\n    this.apiVersion = apiVersion; //v1 || v2\n  };\n\n  /** Parse instance args */\n  _parseArgs = (workspace, type, name, version, uri) => {\n    const [_workspace, _type, _name, _version] = (uri || \"\").split(\"/\");\n\n    this.workspace = _workspace || workspace;\n    this.type = _type || type;\n    this.name = _name || name;\n    this.version = _version || version;\n  };\n\n  /** Document properties */\n\n  /**\n   * Get document read only status\n   */\n  get readOnly() {\n    return Boolean(this.version);\n  }\n\n  /** Document handlers */\n\n  /**\n   * Get document data\n   */\n  read = () => {\n    const { workspace, type, name, version, apiVersion } = this;\n\n    const paths = {\n      v1: `v1/${type}/${name}/`,\n      v2: `v2/db/${workspace}/${type}/${name}/${version}/`\n    };\n    const path = paths[apiVersion];\n\n    return Rest.get({ path }).then(data => {\n      this.data = data;\n      return data;\n    });\n  };\n\n  /**\n   * Update the document using PUT request\n   * @param {Object} body Request payload\n   */\n  update = body => {\n    const { type, name, apiVersion } = this;\n\n    const paths = {\n      v1: `v1/${type}/${name}/`,\n      v2: `v2/db/${workspace}/${type}/${name}/${version}/`\n    };\n    const path = paths[apiVersion];\n\n    return Rest.put({ path, body });\n  };\n\n  /** Subscribers */\n\n  /**\n   * Subscribe to document changes (notifications only available in the global workspace)\n   * @param {Function} callback Callback to execute when the document is updated\n   */\n  subscribe = callback => {\n    this.resubscribe(callback);\n  };\n\n  /**\n   * Resubscribe to document changes (notifications only available in the global workspace)\n   * @param {Function} callback Callback to execute when the document is updated\n   */\n  resubscribe = callback => {\n    if (this.readOnly) return;\n\n    this.unsubscribe();\n\n    this.subscriber = new BaseModel({}, this.type, this.database, [\n      { Scope: this.type, Name: this.name }\n    ]);\n\n    this.subscriber.onUpdate(() => {\n      this.data = this.subscriber.get(this.name)?.obj || {};\n      callback(this.data);\n    });\n  };\n\n  /**\n   * Unsubscribe from document changes\n   */\n  unsubscribe = () => {\n    if (this.subscriber) this.subscriber.destroy();\n    this.subscriber = null;\n  };\n\n  /** Snapshot handlers */\n\n  /**\n   *\n   * @param {String} trgWorkspace Workspace where to create the snapshot\n   * @param {String} version Snapshot version\n   */\n  createSnapshot = ({ trgWorkspace, version }) => {\n    const { workspace, type, name } = this;\n\n    return Snapshot.create({\n      trgWorkspace,\n      srcWorkspace: workspace,\n      type,\n      name,\n      version\n    });\n  };\n\n  /**\n   * Get list of snapshots for the current document in the current workspace\n   */\n  getSnapShots = () => {\n    const { workspace, type, name } = this;\n\n    return Snapshot.getAll({\n      workspace,\n      type,\n      name\n    });\n  };\n\n  /** Static handlers */\n\n  /**\n   *\n   * @param {String} type Type of the document\n   * @param {String} name Name of the document\n   * @param {String} workspace Workspace of the document\n   * @param {String} version Version of the document\n   */\n  static create({ type, name, apiVersion = \"v1\", workspace }) {\n    const paths = {\n      v1: `v1/${type}/`,\n      v2: `v2/db/${workspace}/${type}/${name}/`\n    };\n    const path = paths[apiVersion];\n\n    const bodies = {\n      v1: { data: { Label: name } },\n      v2: { Label: name }\n    };\n    const body = bodies[apiVersion];\n\n    return Rest.post({ path, body });\n  }\n\n  /**\n   * Delete document or partial deletion of the document\n   * @param {String} type Type of the document\n   * @param {String} name Name of the document\n   * @param {Object} body Data of the document\n   */\n  static delete({ type, name, body, apiVersion = \"v1\", workspace = \"global\" }) {\n    const paths = {\n      v1: `v1/${type}/${name}/`,\n      v2: `v2/db/${workspace}/${type}/${name}/`\n    };\n    const path = paths[apiVersion];\n\n    return Rest.delete({ path, body });\n  }\n\n  /**\n   * Get all existing documents in a workspace\n   * @param {String} workspace workspace to search\n   * @param {String} type filter documents by type\n   */\n  static getAll({ workspace, type }) {\n    const _type = type ? `${type}/` : \"\";\n    const path = `v2/db/${workspace}/${_type}`;\n\n    return Rest.get({ path });\n  }\n}\n\nexport default Document;\n","import lodash from \"lodash\";\nimport { BehaviorSubject } from \"rxjs\";\n\nexport default class DataManagerBase {\n  constructor() {\n    this.models = {};\n    this.db_states = Object.freeze({ error: -1, loading: 0, ready: 1 });\n    this.isReady = 0;\n    this._subject_state = new BehaviorSubject(0);\n  }\n\n  _initialize = () => {\n    if (lodash.isEmpty(this.models)) {\n      throw new Error(\"No models added\");\n    }\n\n    Object.keys(this.models).forEach(key => {\n      const prop = key.charAt(0).toLowerCase() + key.slice(1);\n\n      Object.defineProperty(this, prop, {\n        get: () => {\n          return this.models[key];\n        }\n      });\n    });\n    return this._subscribeModelsReady();\n  };\n\n  _subscribeModelsReady = () => {\n    Object.keys(this.models).forEach(key => {\n      this.models[key].onReady(() => this._setModelReady(key));\n    });\n    return this;\n  };\n\n  _setModelReady = model => {\n    this.isReady += 1;\n    if (this.isReady === Object.keys(this.models).length) {\n      this._subject_state.complete();\n    }\n  };\n\n  get db_state() {\n    return this.isReady === Object.keys(this.models).length\n      ? this.db_states.ready\n      : this.db_states.loading;\n  }\n\n  onUpdate = (subscribeTo, callback) => {\n    return subscribeTo.onUpdate(callback);\n  };\n\n  onReady = callback => {\n    if (this.db_state !== this.db_states.ready) {\n      this._subject_state.subscribe(\n        () => {},\n        () => {},\n        () => callback()\n      );\n    } else {\n      callback();\n    }\n  };\n}\n","import WSSub from \"./WSSub\";\n/**\n * A Database singleton\n */\nconst MasterDB = new WSSub();\nexport default MasterDB;\n","import { Subject, BehaviorSubject } from \"rxjs\";\nimport lodash from \"lodash\";\n\nimport Utils from \"../../Utils/Utils\";\n//import RestApi from \"../../RestApi\";\n\nexport default class BaseModel {\n  constructor(manager, model, database, patterns) {\n    this.db_states = Object.freeze({ error: -1, loading: 0, ready: 1 });\n    this.db = database;\n    this.model = model;\n    this.manager = manager;\n\n    this._subject = new Subject();\n    this._cache = new Map();\n    this._subject_state = new BehaviorSubject(0);\n    this._db_state = this.db_states.loading;\n\n    this.patterns = this._validatePatterns(patterns);\n    this.nr_patterns = this.patterns.length;\n\n    //this.api = new RestApi(this.model);\n\n    this._initialize();\n  }\n\n  _initialize = () => {\n    this.patterns.forEach(pattern => this._subscribe(pattern));\n\n    return this;\n  };\n\n  _subscribe = pattern => {\n    this.db.subscribe(\n      pattern,\n      data => this._onDataChange(data),\n      data => this._onDataLoad(data)\n    );\n  };\n\n  _validatePatterns = patterns => {\n    const default_pattern = { Scope: this.model, Name: \"*\" };\n    const _patterns = patterns ? patterns : default_pattern;\n    return Array.isArray(_patterns) ? _patterns : [_patterns];\n  };\n\n  get db_state() {\n    return this._db_state;\n  }\n\n  set db_state(value) {\n    if (value !== this._db_state) {\n      this._db_state = value;\n      if (value !== this.db_states.ready) {\n        this._subject_state.next(value);\n      } else {\n        this._subject_state.complete();\n      }\n    }\n  }\n\n  get = id => {\n    return this._cache.get(id);\n  };\n\n  getAll = () => {\n    return this._cache.values();\n  };\n\n  _get_or_create = key => {\n    return (\n      this.get(key) ||\n      this.add(key, {\n        name: key,\n        obj: {},\n        id: key\n      }).get(key)\n    );\n  };\n\n  add = (key, data) => {\n    return this._cache.set(key, data);\n  };\n\n  remove = key => {\n    this._cache.delete(key);\n  };\n\n  destroy = () => {\n    this.patterns.forEach(pattern => this.db.unsubscribe(pattern));\n  };\n\n  /**\n   * removes empty objects, returning changed object\n   */\n  removeEmpty = (obj, path) => {\n    let new_obj = null;\n\n    if (lodash.isEmpty(lodash.get(obj, path, {}))) {\n      // remove empty\n      new_obj = lodash.omit(obj, path);\n\n      const up_path = path.split(\".\");\n      // check up level is empty\n      if (up_path.length > 1) {\n        new_obj = this.removeEmpty(new_obj, up_path.slice(0, -1).join(\".\"));\n      }\n    }\n\n    return new_obj || obj;\n  };\n\n  /**\n   *    Events\n   */\n\n  _onDataChange = data => {\n    const obj = lodash.get(data, `key.${this.model}`, {});\n\n    Object.keys(obj).forEach(key => {\n      const entry = this._get_or_create(key);\n\n      if (data.event === \"del\") {\n        // deleting an entry\n        const path = Object.keys(Utils.flattenObject(obj[key]))[0];\n\n        entry.obj = this.removeEmpty(lodash.omit(entry.obj, path), path);\n\n        // completly remove object\n        if (lodash.isEmpty(entry.obj)) {\n          this.remove(key);\n        }\n      } else {\n        // updating an entry\n        lodash.merge(entry.obj, obj[key]);\n      }\n\n      this._subject.next({ data: entry, event: data.event });\n    });\n  };\n\n  _onDataLoad = data => {\n    const obj = lodash.get(data, `value.${this.model}`, {});\n\n    Object.keys(obj).forEach(key => {\n      /*this.add(key, {\n        obj: obj[key],\n        id: key\n      });*/\n      const entry = this._get_or_create(key);\n      lodash.merge(entry.obj, obj[key]);\n    });\n\n    if (--this.nr_patterns <= 0) {\n      this.db_state = this.db_states.ready;\n    }\n  };\n\n  onReady = callback => {\n    if (this.db_state !== this.db_states.ready) {\n      this._subject_state.subscribe(\n        () => {},\n        () => {},\n        () => callback()\n      );\n    } else {\n      callback();\n    }\n  };\n\n  onUpdate = callback => {\n    this._subject.subscribe(callback);\n  };\n}\n","import Rest from \"../Rest/Rest\";\n\nconst Snapshot = {};\n\n/**\n * Create a snapshot from a specific document\n * @param {Object} target Object with the following params\n * @param {Object} source Object with the following params\n *  @param {String} workspace Target workspace where the document will be\n *  @param {String} type Type of the document\n *  @param {String} name Source name of the document\n *  @param {String} version Source version of the snapshot\n */\nSnapshot.create = ({ target, source }) => {\n  const body = {\n    src: `${source.workspace}/${source.type}/${source.name}/${source.version}/`\n  };\n  const path = `v2/db/${target.workspace || source.workspace}/${target.type}/${\n    target.name\n  }/${target.version}/`;\n\n  return Rest.post({ path, body });\n};\n\n/**\n * Delete a specific snapshot\n */\nSnapshot.delete = () => {\n  throw new Error(\"Not implemented\");\n};\n\n/**\n * Get the data of a snapshot\n * @param {String} workspace Workspace to read from\n * @param {String} type Type of the document\n * @param {String} name Name of the snapshot\n * @param {String} version Version of the snapshot\n */\nSnapshot.read = ({ workspace, type, name, version }) => {\n  const path = `v2/db/${workspace}/${type}/${name}/${version}/`;\n\n  return Rest.get({ path });\n};\n\n/**\n * Create document in the global workspace\n * @param {Object} target Object with the following params\n * @param {Object} source Object with the following params\n *  @param {String} workspace Target workspace where the document will be\n *  @param {String} type Type of the document\n *  @param {String} name Source name of the document\n *  @param {String} version Source version of the snapshot\n */\nSnapshot.restore = ({ target, source }) => {\n  target.workspace = \"global\";\n\n  return Snapshot.create({ target, source });\n};\n\n/**\n * Get all the snapshots of a document\n * @param {String} workspace Workspace to read from\n * @param {String} type Type of the document\n * @param {String} name Name of the document\n */\nSnapshot.getAll = ({ workspace, type, name }) => {\n  const path = `v2/db/${workspace}/${type}/${name}/`;\n\n  return Rest.get({ path });\n};\n\nexport default Snapshot;\n","import AuthWebSocket from \"../AuthWebSocket/AuthWebSocket\";\nimport Authentication from \"../Authentication/Authentication\";\nconst { getToken, AuthException, checkLogin } = Authentication;\n\n/**\n * WSSub - class to handle redis subscribers using authenticated websockets\n */\nclass WSSub {\n  constructor() {\n    this.host = `${window.location.hostname}:${window.location.port}`;\n    const isHttps = window.location.protocol === \"https:\";\n    this.url = `${isHttps ? \"wss\" : \"ws\"}://${this.host}/ws/subscriber`;\n    this.REST_API = `${window.location.protocol}//${this.host}/api/v1/`;\n    this.RECONN_TIMEOUT = 3000;\n    this.RESEND_TIMEOUT = 1000;\n    this.RETRIES = 3;\n    this.NORMAL_CLOSE_EVT = 1000;\n\n    // supported commands\n    this.commands = {\n      SUBSCRIBE: \"subscribe\",\n      UNSUBSCRIBE: \"unsubscribe\",\n      LIST: \"list\",\n      EXECUTE: \"execute\"\n    };\n\n    this.websocket = null;\n    // map with callbacks related with pattern subscription\n    this.sub_callbacks = new Map();\n    // map with callbacks related with event subscription\n    this.evt_callbacks = new Map();\n  }\n\n  /**\n   * get the connection state\n   * https://developer.mozilla.org/en-US/docs/Web/API/WebSocket/readyState\n   */\n  getState = () => {\n    return this.websocket?.socket?.readyState || WebSocket.CLOSED;\n  };\n\n  /**\n   * initialize the socket instance\n   */\n\n  initSocket = () => {\n    if (this.websocket) return this;\n\n    const { url, onOpen, onClose, onError, onMessage, onAuthError } = this;\n\n    // TODO extend WSSub from AuthWebSocket instead\n    this.websocket = new AuthWebSocket({\n      url,\n      onOpen,\n      onClose,\n      onError,\n      onMessage,\n      connectionHandler: onAuthError\n    });\n\n    this.connect();\n    return this;\n  };\n\n  /**\n   * connection initialization\n   */\n  connect = () => {\n    this.websocket.createSocket();\n\n    return this;\n  };\n\n  /**\n   * try to reconnect\n   */\n  reConnect = () => {\n    setTimeout(this.connect, this.RECONN_TIMEOUT);\n  };\n\n  /**\n   * creates a new pair if does not exits and returns it\n   * @param {Map} map sub_callbacks or evt_callbacks\n   * @param {string} pattern is the map key\n   *\n   * @returns {array} the value associated with the pattern\n   */\n  getOrCreate = (map, pattern) => {\n    return map.get(pattern) || map.set(pattern, []).get(pattern);\n  };\n\n  /**\n   * push callback to the map\n   * @param {Map} sub_callbacks or evt_callbacks\n   * @param {string} pattern is the map key\n   * @param {function} callback function to execute\n   */\n  pushCallback = (map, pattern, callback) => {\n    this.getOrCreate(map, pattern).push(callback);\n\n    return this;\n  };\n\n  /**\n   * add subscriber callback\n   * @param {function} callback function to execute\n   * @param {string} pattern pattern to subscribe to\n   */\n  addSubscriberCallback = (callback, pattern) => {\n    if (typeof callback !== \"function\") return this;\n\n    return this.pushCallback(this.sub_callbacks, pattern, callback);\n  };\n\n  /**\n   * add event callback\n   * @param {strin} command command to send; event to subscribe\n   * @param {function} callback function to execute\n   * @param {string} pattern pattern to subscribe to\n   */\n  addEventCallback = (command, callback, pattern) => {\n    if (typeof callback !== \"function\") return this;\n\n    const _sufix = pattern ? `/${pattern}` : \"\";\n    const _pattern = `${command}${_sufix}`;\n\n    return this.pushCallback(this.evt_callbacks, _pattern, callback);\n  };\n\n  /**\n   * sends a message to the server\n   * @param {any} message to send to the server\n   */\n  send = (message, retry = 0) => {\n    try {\n      // do not keep trying to send the message after 3 times\n      if (retry >= this.RETRIES) throw new Error(\"Timeout sending message\");\n      // stringify the message before sending it\n      // try to resend if the connection is not yet open\n      this.getState() !== WebSocket.OPEN\n        ? setTimeout(\n            this.websocket.send,\n            this.RESEND_TIMEOUT,\n            message,\n            retry + 1\n          )\n        : this.websocket.send(JSON.stringify(message));\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  /**\n   * execute callbacks subscribed to events or patterns\n   * @param {string} pattern pattern or event\n   * @param {bool} is_command when true callback only executes once\n   * @param {any} message data to pass to the callback\n   */\n  dispatch = (pattern, is_command = true, message) => {\n    const _map = is_command ? this.evt_callbacks : this.sub_callbacks;\n    const _callbacks = _map.get(pattern) || [];\n\n    _callbacks.forEach(cb => {\n      setTimeout(cb, 0, message);\n    });\n\n    if (is_command) _map.delete(pattern);\n  };\n\n  /**\n   * format the message to send to the server\n   * @param {string} event event to send to the server\n   * @param {string} pattern pattern to send to the server\n   */\n  fmtMessage = (event, pattern) => ({ event, pattern });\n\n  /**\n   * triggered when the socket opens\n   */\n  onOpen = evt => {\n    // send current subscriptions to the server\n    this.reSubscribe();\n    this.dispatch(\"onopen\");\n  };\n\n  /**\n   * triggered when the socket closes\n   */\n  onClose = evt => {\n    this.dispatch(\"onclose\");\n\n    // reconnect if the connection was not closed on purpose\n    if (evt.code !== this.NORMAL_CLOSE_EVT) {\n      this.reConnect();\n    }\n  };\n\n  /**\n   * triggered when the socket raises an error\n   */\n  onError = evt => {\n    this.dispatch(\"onerror\");\n  };\n\n  /**\n   * triggered whit authentication error\n   */\n  onAuthError = () => {\n    // reconnect on authentication error\n    this.reConnect();\n  };\n\n  /**\n   * triggered when the socket receives a message\n   */\n  onMessage = msg => {\n    try {\n      const data = JSON.parse(msg.data);\n      if (data.error) throw new Error(data.error);\n\n      const { event } = data;\n      const is_command = Object.values(this.commands).includes(event);\n      const { LIST, EXECUTE } = this.commands;\n\n      const rcv_patterns = [LIST, EXECUTE].includes(event)\n        ? [event]\n        : data.patterns;\n\n      rcv_patterns.forEach(pattern => {\n        const _prefix = is_command ? `${event}/` : \"\";\n        const _pattern = `${_prefix}${JSON.stringify(pattern)}`;\n\n        this.dispatch(_pattern, is_command, data);\n      });\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  /**\n   * subscribe to a redis pattern\n   * @param {string} pattern pattern to subscribe to\n   * @param {function} callback function to execute on changes\n   * @param {function} evt_callback function to execute on the subscription event\n   *\n   */\n  subscribe = (pattern, callback, evt_callback) => {\n    const { SUBSCRIBE } = this.commands;\n    const message = this.fmtMessage(SUBSCRIBE, pattern);\n    const _pattern = JSON.stringify(pattern);\n\n    this.initSocket()\n      .addSubscriberCallback(callback, _pattern)\n      .addEventCallback(SUBSCRIBE, evt_callback, _pattern)\n      .send(message);\n  };\n\n  /**\n   * send current subscriptions to the server\n   */\n  reSubscribe = () => {\n    const { SUBSCRIBE } = this.commands;\n\n    Array.from(this.sub_callbacks.keys()).forEach(key => {\n      const message = this.fmtMessage(SUBSCRIBE, JSON.parse(key));\n      this.send(message);\n    });\n  };\n\n  /**\n   * unsubscribe from changes related to the pattern\n   * @param {string} pattern pattern to unsubscribe\n   * @param {function} callback function to execute on event unsubscribe\n   *\n   */\n  unsubscribe = (pattern, callback) => {\n    const { UNSUBSCRIBE } = this.commands;\n    const message = this.fmtMessage(UNSUBSCRIBE, pattern);\n    const _pattern = JSON.stringify(pattern);\n\n    this.initSocket()\n      .addEventCallback(UNSUBSCRIBE, callback, _pattern)\n      .send(message);\n  };\n\n  /**\n   * get the list of the current pattern subscriptions\n   * @param {function} evt_callback function to execute on event\n   */\n  list = evt_callback => {\n    const { LIST } = this.commands;\n    const message = this.fmtMessage(LIST);\n\n    this.initSocket().addEventCallback(LIST, evt_callback).send(message);\n  };\n\n  /**\n   * execute - executes a remote procedure call\n   * @param {string} remote_callback name of the remote callback to execute\n   * @param {object} data data to send to the remote callback\n   * @param {function} evt_callback function to execute on event\n   */\n  execute = (remote_callback, data, evt_callback) => {\n    const { EXECUTE } = this.commands;\n    const message = { event: EXECUTE, callback: remote_callback, ...data };\n\n    this.initSocket().addEventCallback(EXECUTE, evt_callback).send(message);\n  };\n\n  /**\n   * subscribe to events onopen, onclose, onerror\n   * @param {string} event name of the event to subscribe\n   * @param {function} callback function to execute on event\n   */\n  onEvent = (event, callback) => {\n    this.initSocket().addEventCallback(event, callback);\n  };\n\n  /**\n   * close the socket connection\n   */\n  close = () => {\n    this.websocket.close();\n    this.websocket = null;\n  };\n\n  /**\n   * the following code should be moved to a separate class\n   * added to support current applications\n   * TODO. review and move\n   */\n\n  checkTest = (pattern, data, is_pattern, one_shot) => {\n    return new Promise((resolve, reject) => {\n      this.dispatch(pattern, data, is_pattern, one_shot);\n      if (true) {\n        resolve(\"DONE\");\n      }\n    });\n  };\n\n  /* Get value from key in Var, scope fleet or global */\n  getVar = (key, callback = undefined, scope = \"global\") => {\n    if (![\"global\", \"fleet\"].includes(scope)) {\n      throw \"Only fleet and global scopes available.\";\n    }\n    if (scope === \"fleet\") {\n      // key format: robot_name@key_name\n      if (key.split(\"@\").length < 2) {\n        throw \"Wrong key format (robot_name@key_name)\";\n      }\n    }\n    const url = this.REST_API + \"database/\" + scope + \"/\" + key + \"/\";\n\n    checkLogin().then(res => {\n      fetch(url)\n        .then(response => response.json())\n\n        .then(data => {\n          if (callback) {\n            callback(data);\n          } else {\n            //NOTHING\n          }\n        });\n    });\n  };\n\n  /* Set value from key in Var, scope fleet or global */\n  setVar = (key, value, callback = undefined, scope = \"global\") => {\n    if (![\"global\", \"fleet\"].includes(scope)) {\n      throw \"Only fleet and global scopes available.\";\n    }\n    if (scope === \"fleet\") {\n      // key format: robot_name@key_name\n      const values = key.split(\"@\");\n      if (key.split(\"@\").length < 2) {\n        throw \"Wrong key format (robot_name@key_name)\";\n      }\n    }\n    const data = { key: key, scope: scope, value: value };\n    const url = this.REST_API + \"database/\";\n\n    checkLogin().then(res => {\n      if (!res) {\n        throw new AuthException(\"login error\");\n      }\n\n      fetch(url, {\n        method: \"POST\",\n        body: JSON.stringify(data),\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${getToken()}`\n        }\n      }).then(res => {\n        if (callback) {\n          callback(res);\n        }\n      });\n    });\n  };\n\n  /**\n   * GET value from url\n   * @param url String\n   * @param callback function\n   * @memberof Database\n   */\n  get = (url, callback = undefined) => {\n    checkLogin().then(res => {\n      if (!res) {\n        throw new AuthException(\"login error\");\n      }\n\n      fetch(url, {\n        method: \"GET\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${getToken()}`\n        }\n      }).then(res => {\n        if (callback) {\n          res\n            .json()\n            .then(data => {\n              callback(data, res);\n            })\n            .catch(e => {\n              callback(undefined, e);\n            });\n        }\n      });\n    });\n  };\n\n  /**\n   * Set value from key in Scope\n   * @param scope String\n   * @param name String - Instance Name\n   * @param key String - Key to override\n   * @param value Obj\n   * @param callback function\n   * @memberof Database\n   */\n  post = (scope, name, key, value, callback = undefined) => {\n    let url = this.REST_API + scope + \"/\" + name + \"/\";\n    if (name === undefined) {\n      url = this.REST_API + scope + \"/\";\n    }\n\n    checkLogin().then(res => {\n      if (!res) {\n        throw new AuthException(\"login error\");\n      }\n\n      fetch(url, {\n        method: \"POST\",\n        body: JSON.stringify({ key: key, data: value }),\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${getToken()}`\n        }\n      }).then(res => {\n        if (callback) {\n          res\n            .json()\n            .then(data => {\n              callback(data, res);\n            })\n            .catch(e => {\n              callback(undefined, e);\n            });\n        }\n      });\n    });\n  };\n\n  upload = (packageName, key, value, callback = undefined) => {\n    const url = `${this.REST_API}upload/${packageName}/`;\n    const formData = new FormData();\n    formData.append(\"name\", key);\n    formData.append(`data`, value);\n    fetch(url, {\n      method: \"POST\",\n      body: formData,\n      headers: {\n        Authorization: `Bearer ${getToken()}`\n      }\n    })\n      .then(res => res.json())\n      .then(callback);\n  };\n\n  /**\n   * Update key\n   * @param scope String\n   * @param name String - Instance Name\n   * @param value Obj\n   * @param callback function\n   * @memberof Database\n   */\n  put = (scope, name, value, callback = undefined) => {\n    let url = this.REST_API + scope + \"/\" + name + \"/\";\n\n    if (name === undefined) {\n      url = this.REST_API + scope + \"/\";\n    }\n\n    checkLogin().then(res => {\n      if (!res) {\n        throw new AuthException(\"login error\");\n      }\n\n      fetch(url, {\n        method: \"PUT\",\n        body: JSON.stringify(value),\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${getToken()}`\n        }\n      }).then(res => {\n        if (callback) {\n          res\n            .json()\n            .then(data => {\n              callback(data, res);\n            })\n            .catch(e => {\n              callback(undefined, res);\n\n              if (process.env.NODE_ENV === \"development\") {\n                alert(\n                  \"Development Mode \\n\" +\n                    \"Status: \" +\n                    res.status +\n                    \"\\n\" +\n                    \"Error: \" +\n                    res.statusText\n                );\n              }\n            });\n        }\n      });\n    });\n  };\n\n  /**\n   * Set value from key in Scope\n   * @param scope String\n   * @param name String - Instance Name\n   * @param key String - Key to override\n   * @param value Obj\n   * @param callback function\n   * @memberof Database\n   */\n  delete = (scope, name, callback = undefined, data = {}) => {\n    let url = this.REST_API + scope + \"/\" + name + \"/\";\n    if (name === undefined) {\n      url = this.REST_API + scope + \"/\";\n      return;\n    }\n\n    checkLogin().then(res => {\n      if (!res) {\n        throw new AuthException(\"login error\");\n      }\n\n      fetch(url, {\n        method: \"DELETE\",\n        body: JSON.stringify(data),\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${getToken()}`\n        }\n      }).then(res => {\n        if (callback) {\n          res\n            .json()\n            .then(data => {\n              callback(data, res);\n            })\n            .catch(e => {\n              callback(undefined, res);\n\n              if (process.env.NODE_ENV === \"development\") {\n                alert(\n                  \"Development Mode \\n\" +\n                    \"Status: \" +\n                    res.status +\n                    \"\\n\" +\n                    \"Error: \" +\n                    res.statusText\n                );\n              }\n            });\n        }\n      });\n    });\n  };\n\n  /**\n   * Set value from key in Scope\n   * @param cloudFunction String - callback name\n   * @param func String - Function in the callback. default \"\"\n   * @param args Object - Args {key:value}... key is the param in the function\n   * @param callback func - Callback to parse the response\n   * @memberof Database\n   */\n  cloudFunction = (cloudFunction, func = \"\", args, callback = undefined) => {\n    checkLogin().then(res => {\n      if (!res) {\n        throw new AuthException(\"login error\");\n      }\n\n      const url = this.REST_API + \"function/\" + cloudFunction + \"/\";\n      fetch(url, {\n        method: \"POST\",\n        body: JSON.stringify({ func: func, args: args }),\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${getToken()}`\n        }\n      }).then(res => {\n        if (callback) {\n          res.json().then(data => callback(data));\n        }\n      });\n    });\n  };\n\n  /**\n   * Set tabs in a currentUser\n   * @param scope String\n   * @param name String - Instance Name\n   * @param key String - Key to override\n   * @param value Obj\n   * @param callback function\n   * @memberof Database\n   */\n  postTabs = (name, value, callback = undefined) => {\n    let scope = \"User\";\n    let url = this.REST_API + scope + \"/\" + name + \"/\";\n    if (name === undefined) {\n      url = this.REST_API + scope + \"/\";\n      return;\n    }\n    let newValue = value.map(obj => {\n      return { componentName: obj.componentName, name: obj.name };\n    });\n    const key_workspace = {\n      Workspace: \"*\"\n    };\n\n    checkLogin().then(res => {\n      fetch(url, {\n        method: \"POST\",\n        body: JSON.stringify({ key: key_workspace, data: newValue }),\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${getToken()}`\n        }\n      }).then(res => {\n        if (callback) {\n          res\n            .json()\n            .then(data => {\n              callback(data, res);\n            })\n            .catch(e => {\n              callback(undefined, res);\n\n              if (process.env.NODE_ENV === \"development\") {\n                alert(\n                  \"Development Mode \\n\" +\n                    \"Status: \" +\n                    res.status +\n                    \"\\n\" +\n                    \"Error: \" +\n                    res.statusText\n                );\n              }\n            });\n        }\n      });\n    });\n  };\n}\n\nexport default WSSub;\n","import Rest from \"../Rest/Rest\";\n\nconst Workspace = {};\n\nWorkspace.create = () => {\n  throw new Error(\"Not implemented\");\n};\nWorkspace.delete = () => {\n  throw new Error(\"Not implemented\");\n};\n\n/**\n * Get a list of all locally available workspaces\n */\nWorkspace.getAll = () => {\n  const path = \"v2/db/\";\n\n  return Rest.get({ path });\n};\n\nexport default Workspace;\n","import RestBase from \"./RestBase\";\nimport withAuth from \"./WithAuth\";\n\nconst Rest = withAuth(RestBase);\n\nexport default Rest;\n","import Authentication from \"../Authentication/Authentication\";\nconst { getToken } = Authentication;\n\nconst RestBase = {};\n\n/**\n * Get headers with authorization token\n */\nRestBase.getHeaders = () => {\n  return {\n    \"Content-Type\": \"application/json\",\n    Authorization: `Bearer ${getToken()}`\n  };\n};\n\n/**\n * Encodes the values of an object\n * @param {Object} data Object to encode\n */\nRestBase.encodeURI = data => {\n  const output = {};\n  for (const [key, value] of Object.entries(data)) {\n    output[key] = encodeURIComponent(value);\n  }\n  return output;\n};\n\n/**\n * Get composed url\n * @param {String} path Relative path\n */\nRestBase.getUrl = ({ path, search = {} }) => {\n  const host = `${window.location.hostname}:${window.location.port}`;\n\n  const params = new URLSearchParams(RestBase.encodeURI(search));\n\n  return `${\n    window.location.protocol\n  }//${host}/api/${path}?${params.toString()}`;\n};\n\n/**\n * Execute request\n * @param {String} path Relative path\n * @param {String} method Request method\n * @param {Object} body Request payload\n */\nRestBase._request = ({ path, method = \"GET\", body = {}, search }) => {\n  const headers = RestBase.getHeaders();\n  const url = RestBase.getUrl({ path, search });\n  const skipBody = [\"HEAD\", \"GET\"];\n\n  const payload = {\n    method,\n    headers\n  };\n\n  if (!skipBody.includes(method)) payload.body = JSON.stringify(body);\n\n  return fetch(url, payload).then(response => {\n    if (!response.ok) {\n      return Promise.reject(response);\n    }\n    return response.json();\n  });\n};\n\n/**\n * Execute GET request\n * @param {String} path Relative path\n * @param {String} search Search parameters\n */\n\nRestBase.get = ({ path, search }) => {\n  return RestBase._request({ path, search });\n};\n\n/**\n * Execute POST request\n * @param {String} path Relative path\n * @param {Object} body Request payload\n */\nRestBase.post = ({ path, body }) => {\n  const method = \"POST\";\n\n  return RestBase._request({ path, method, body });\n};\n\n/**\n * Execute PUT request\n * @param {String} path Relative path\n * @param {Object} body Request payload\n */\nRestBase.put = ({ path, body }) => {\n  const method = \"PUT\";\n\n  return RestBase._request({ path, method, body });\n};\n\n/**\n * Execute DELETE request\n * @param {String} path Relative path\n */\nRestBase.delete = ({ path, body }) => {\n  const method = \"DELETE\";\n\n  return RestBase._request({ path, method, body });\n};\n\n/**\n * Upload file to a specific Package\n * @param {String} packageName Package name\n * @param {String} key Key to insert in the package\n * @param {String} value Value of the key\n */\nRestBase.upload = ({ packageName, key, value }) => {\n  const path = `upload/${packageName}/`;\n  const body = new FormData();\n  body.append(\"name\", key);\n  body.append(\"data\", value);\n\n  return RestBase.post({ path, body });\n};\n\n/**\n * Execute remote procedure call\n * @param {String} cbName Callback name\n * @param {String} func Function in the callback\n * @param {Object} args Args to pass to the function\n */\nRestBase.cloudFunction = ({ cbName, func = \"\", args }) => {\n  const path = `function/${cbName}/`;\n  const body = { func, args };\n\n  return RestBase.post({ path, body }).then(response => response.json());\n};\n\nRestBase.validScope = scope => [\"global\", \"fleet\"].includes(scope);\nRestBase.validKey = key => key.split(\"@\") >= 2;\nRestBase.validateVar = (key, scope) => {\n  const validators = [\n    {\n      fn: scope => RestBase.validScope(scope),\n      error: \"Invalid scope\"\n    },\n    {\n      fn: key => RestBase.validKey(key),\n      error: \"Key format should be <robot name>@<key name>\"\n    }\n  ];\n\n  validators.forEach(obj => {\n    if (!obj.fn()) {\n      throw new Error(obj.error);\n    }\n  });\n};\n\nRestBase.getVar = ({ key, scope = \"global\" }) => {\n  RestBase.validateVar(key, scope);\n\n  const path = `v1/database/${scope}/${key}/`;\n\n  return RestBase.get({ path }).then(response => response.json());\n};\n\nRestBase.setVar = ({ key, value, scope = \"global\" }) => {\n  RestBase.validateVar(key, scope);\n\n  const path = `v1/database/`;\n  const body = { key, scope, value };\n\n  return RestBase.post({ path, body }).then(response => response.json());\n};\n\nexport default RestBase;\n","import Authentication from \"../Authentication/Authentication\";\nconst { checkLogin, AuthException } = Authentication;\n\nconst withAuth = (obj, props = {}) => {\n  const handler = {\n    shouldCheckLogin: [\"search\"],\n\n    __checkLogin: (target, prop) => {\n      return checkLogin().then(res => {\n        if (!res) {\n          throw new AuthException(\"Login error\");\n        }\n\n        return Reflect.has(target, prop)\n          ? Reflect.get(target, prop)\n          : undefined;\n      });\n    },\n\n    get: function (target, prop) {\n      return this.shouldCheckLogin.includes(prop)\n        ? this.__checkLogin(target, prop)\n        : Reflect.get(target, prop);\n    }\n  };\n\n  return new Proxy(Object.assign(obj, props), handler);\n};\n\nexport default withAuth;\n","import icons from \"../../resources/fonts/movai.woff\";\n\nconst Style = `\n@font-face {\n  font-family: 'mov.ai';\n  src: url(${icons}) format(\"woff\");\n  font-weight: normal;\n  font-style: normal;\n  font-display: block;\n}\n\n[class^=\"icon-\"], [class*=\" icon-\"] {\n  /* use !important to prevent issues with browser extensions that change fonts */\n  font-family: 'mov.ai' !important;\n  speak: none;\n  font-style: normal;\n  font-weight: normal;\n  font-variant: normal;\n  text-transform: none;\n  line-height: 1;\n\n  /* Better Font Rendering =========== */\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n.icon-AddGlobal:before {\n  content: \"\\\\e900\";\n}\n.icon-out:before {\n  content: \"\\\\e901\";\n}\n.icon-in:before {\n  content: \"\\\\e902\";\n}\n.icon-account_circle:before {\n  content: \"\\\\e903\";\n}\n.icon-data_setting:before {\n  content: \"\\\\e904\";\n}\n.icon-supervisor_account:before {\n  content: \"\\\\e905\";\n}\n.icon-add_box:before {\n  content: \"\\\\e906\";\n}\n.icon-time .path1:before {\n  content: \"\\\\e907\";\n  color: rgb(0, 178, 188);\n}\n.icon-time .path2:before {\n  content: \"\\\\e908\";\n  margin-left: -1em;\n  color: rgb(250, 250, 250);\n}\n.icon-carts .path1:before {\n  content: \"\\\\e909\";\n  color: rgb(0, 178, 188);\n}\n.icon-carts .path2:before {\n  content: \"\\\\e90a\";\n  margin-left: -1em;\n  color: rgb(250, 250, 250);\n}\n.icon-tree_24px:before {\n  content: \"\\\\e90b\";\n}\n.icon-expand_more_24px:before {\n  content: \"\\\\e90c\";\n}\n.icon-expand_less_24px:before {\n  content: \"\\\\e90d\";\n}\n.icon-chevron_right_24px:before {\n  content: \"\\\\e90e\";\n}\n.icon-chevron_left_24px:before {\n  content: \"\\\\e90f\";\n}\n.icon-Statistics:before {\n  content: \"\\\\e910\";\n}\n.icon-Scenes:before {\n  content: \"\\\\e911\";\n}\n.icon-Sad:before {\n  content: \"\\\\e912\";\n}\n.icon-Normal:before {\n  content: \"\\\\e913\";\n}\n.icon-Nodes:before {\n  content: \"\\\\e914\";\n}\n.icon-Layouts:before {\n  content: \"\\\\e915\";\n}\n.icon-Happy:before {\n  content: \"\\\\e916\";\n}\n.icon-Flows:before {\n  content: \"\\\\e917\";\n}\n.icon-Filters:before {\n  content: \"\\\\e918\";\n}\n.icon-Empty:before {\n  content: \"\\\\e919\";\n}\n.icon-Callbacks:before {\n  content: \"\\\\e91a\";\n}\n.icon-Annotations:before {\n  content: \"\\\\e91b\";\n}\n.icon-create_new_folder_24px:before {\n  content: \"\\\\e91c\";\n}\n.icon-widgets_24px:before {\n  content: \"\\\\e91d\";\n}\n.icon-log_24px:before {\n  content: \"\\\\e91e\";\n}\n.icon-outlined_hidden:before {\n  content: \"\\\\e91f\";\n}\n.icon-outlined:before {\n  content: \"\\\\e920\";\n}\n.icon-repeat:before {\n  content: \"\\\\e921\";\n  color: #2090b7;\n}\n.icon-edit:before {\n  content: \"\\\\e922\";\n  color: #2091b7;\n}\n.icon-download:before {\n  content: \"\\\\e923\";\n  color: #2091b7;\n}\n.icon-details_24px:before {\n  content: \"\\\\e924\";\n}\n.icon-delete:before {\n  content: \"\\\\e925\";\n  color: #2091b7;\n}\n.icon-check_circle_24px-copy:before {\n  content: \"\\\\e926\";\n}\n.icon-add:before {\n  content: \"\\\\e927\";\n  color: #2091b7;\n}\n.icon-drag_indicator-24px-3:before {\n  content: \"\\\\e928\";\n}\n`;\nexport default Style;\n","export default class UndoManager {\n  constructor(size = 50) {\n    this.size = size;\n    this.undoStack = new Queue(size);\n    this.redoStack = new Queue(size);\n  }\n\n  doIt(undoAbleAction) {\n    undoAbleAction.doAction();\n    this.undoStack.push(undoAbleAction);\n    this.redoStack = new Queue(this.size);\n  }\n\n  addIt(undoAbleAction) {\n    this.undoStack.push(undoAbleAction);\n    this.redoStack = new Queue(this.size);\n  }\n\n  undo() {\n    const undoAbleAction = this.undoStack.pop();\n    if (undoAbleAction) {\n      undoAbleAction.undoAction();\n      this.redoStack.push(undoAbleAction);\n    }\n  }\n\n  redo() {\n    const undoAbleAction = this.redoStack.pop();\n    if (undoAbleAction) {\n      undoAbleAction.doAction();\n      this.undoStack.push(undoAbleAction);\n    }\n  }\n\n  static actionBuilder() {\n    return new UndoAbleActionBuilder();\n  }\n}\n\nclass UndoAbleActionBuilder {\n  constructor() {\n    this._doAction = null;\n    this._undoAction = null;\n  }\n\n  doAction(lambda) {\n    this._doAction = lambda;\n    return this;\n  }\n\n  undoAction(lambda) {\n    this._undoAction = lambda;\n    return this;\n  }\n\n  build() {\n    if ([this._undoAction, this._undoAction].some(x => x == null))\n      throw \"Forgot to set doAction or undoAction\";\n    return { doAction: this._doAction, undoAction: this._undoAction };\n  }\n}\n\nclass Queue {\n  constructor(size = 50) {\n    this.size = size;\n    this.queue = [];\n  }\n\n  push(el) {\n    if (this.queue.length === this.size) {\n      this.queue.shift();\n    }\n    this.queue.push(el);\n  }\n\n  pop() {\n    return this.queue.pop();\n  }\n}\n","import Authentication from \"../Authentication/Authentication\";\n\nclass User {\n  constructor() {\n    this.baseUrl = `${window.location.origin}/api/v1/User`;\n    this.tokenData = Authentication.getTokenData();\n    this.data = null;\n    this.timestamp = null;\n    this.TIMEOUT = 3000; // milisec\n  }\n\n  getData = () => {\n    const headers = {\n      \"Content-Type\": \"application/json\",\n      Authorization: `Bearer ${Authentication.getToken()}`\n    };\n    const { name } = this.tokenData.message;\n    const url = `${this.baseUrl}/${name}/`;\n\n    return new Promise((resolve, reject) => {\n      const currTime = new Date().getTime();\n\n      // send cached value\n      if (currTime - this.timestamp <= this.TIMEOUT && this.data) {\n        return resolve({ response: this.data });\n      }\n\n      this.timestamp = currTime;\n\n      fetch(url, { headers })\n        .then(response => {\n          // request error\n          if (!response.ok) {\n            reject({ error: response.statusText });\n          }\n\n          // parse response\n          response\n            .json()\n            .then(data => {\n              this.data = data;\n              resolve({ response: data });\n            })\n            .catch(error => {\n              this.data = null;\n              reject({ error });\n            });\n        })\n        .catch(error => {\n          // error while parsing request\n          this.data = null;\n          reject({ error });\n        });\n    });\n  };\n\n  isSuperUser = async () => {\n    const data = await this.getData();\n    return data?.response?.Superuser || false;\n  };\n}\n\nexport default User;\n","import { Maybe } from \"monet\";\n\nconst Utils = {};\n\nUtils.ofNull = x => Maybe.fromNull(x);\n\nUtils.getter = prop => obj => obj[prop];\n\nUtils.dot = f => g => x => f(g(x));\n\nUtils.maybeGet = prop => Utils.dot(Utils.ofNull)(Utils.getter(prop));\n\nUtils.range = (init, end) => {\n  const { i, e } = Maybe.fromNull(end)\n    .map(x => ({ i: init, e: end }))\n    .orSome({ i: 0, e: init });\n  const ans = [];\n  for (let j = i; j < e; j++) ans.push(j);\n  return ans;\n};\n\nUtils.randomInt = (a, b) => Math.floor(Utils.random(a, b));\n\nUtils.random = (a, b) => {\n  const { init, end } = Maybe.fromNull(b)\n    .map(x => ({ init: a, end: b }))\n    .orSome({ init: 0, end: a });\n  return init + (end - init) * Math.random();\n};\n\nUtils.normalizeStr = str => {\n  // from https://stackoverflow.com/questions/990904/remove-accents-diacritics-in-a-string-in-javascript\n  return str\n    .normalize(\"NFD\")\n    .replace(/[\\u0300-\\u036f]/g, \"\")\n    .toLowerCase();\n};\n\n/**\n *\n * @param {*} array\n * @param {*} groupFunction : function x => group class;\n *\n * Usage example:\n *\n * groupBy([1,2,3,4,5,6,7,8,9], x => x % 3) // {0: [3,6,9], 1:[1,4,7], 2:[2,5,8]}\n */\nUtils.groupBy = (array, groupFunction) => {\n  const ans = {};\n  array.forEach(x => {\n    const key = groupFunction(x);\n    if (!ans[key]) ans[key] = [];\n    ans[key].push(x);\n  });\n  return ans;\n};\n\n// From https://flaviocopes.com/how-to-uppercase-first-letter-javascript/\nUtils.capitalize = s => {\n  if (typeof s !== \"string\") return \"\";\n  return s.charAt(0).toUpperCase() + s.slice(1);\n};\n\n/**\n * Positive mod function\n */\nUtils.mod = (x, n) => ((x % n) + n) % n;\n\n/**\n * flatten an object\n * https://github.com/30-seconds/30-seconds-of-code/blob/master/snippets/flattenObject.md\n */\nUtils.flattenObject = (obj, prefix = \"\") =>\n  Object.keys(obj).reduce((acc, k) => {\n    const pre = prefix.length ? prefix + \".\" : \"\";\n\n    if (typeof obj[k] === \"object\")\n      Object.assign(acc, Utils.flattenObject(obj[k], pre + k));\n    else acc[pre + k] = obj[k];\n\n    return acc;\n  }, {});\n\nexport default Utils;\n","module.exports = require(\"@babel/runtime/helpers/esm/asyncToGenerator\");","module.exports = require(\"@babel/runtime/helpers/esm/classCallCheck\");","module.exports = require(\"@babel/runtime/helpers/esm/createClass\");","module.exports = require(\"@babel/runtime/helpers/esm/defineProperty\");","module.exports = require(\"@babel/runtime/helpers/esm/slicedToArray\");","module.exports = require(\"@babel/runtime/helpers/esm/typeof\");","module.exports = require(\"@babel/runtime/regenerator\");","module.exports = require(\"jwt-decode\");","module.exports = require(\"lodash\");","module.exports = require(\"monet\");","module.exports = require(\"rxjs\");"],"sourceRoot":""}